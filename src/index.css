@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --primary: 14 165 233; /* Sky 500 */
    --primary-dark: 2 132 199; /* Sky 600 */
    --secondary: 16 185 129; /* Emerald 500 */
    --background: 248 250 252; /* Slate 50 */
    --surface: 255 255 255;
    --text-primary: 15 23 42; /* Slate 900 */
    --text-secondary: 100 116 139; /* Slate 500 */
  }

  /* Mobile-first: add touch-action optimization */
  * {
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply antialiased text-slate-900 bg-slate-50;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    /* Prevent pull-to-refresh on mobile */
    overscroll-behavior-y: contain;
  }

  /* Custom scrollbar - thinner on mobile */
  ::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }
  @media (min-width: 768px) {
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }
  }
  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }
  ::-webkit-scrollbar-thumb {
    @apply bg-slate-300/60 rounded-full transition-colors;
  }
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-slate-400;
  }
}

@layer components {
  .glass-card {
    @apply bg-white/90 backdrop-blur-md border border-white/20 shadow-xl shadow-slate-200/50;
  }
  
  .medical-card {
    @apply bg-white rounded-xl md:rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow duration-300;
  }

  /* Mobile-first button styles with touch-friendly sizes */
  .btn-primary {
    @apply bg-gradient-to-r from-sky-500 to-sky-600 hover:from-sky-600 hover:to-sky-700 text-white font-semibold py-2.5 md:py-3 px-4 md:px-5 rounded-lg md:rounded-xl transition-all duration-200 shadow-lg shadow-sky-500/25 active:scale-[0.98] hover:shadow-xl hover:shadow-sky-500/30 min-h-[44px] tap-target;
  }

  .btn-secondary {
    @apply bg-white hover:bg-slate-50 text-slate-700 font-medium py-2 md:py-2.5 px-3 md:px-4 rounded-lg md:rounded-xl border border-slate-200 transition-all duration-200 shadow-sm active:scale-[0.98] hover:border-slate-300 min-h-[44px] tap-target;
  }
  
  /* Mobile-first input field */
  .input-field {
    @apply w-full px-3 md:px-4 py-2.5 md:py-3 bg-white border border-slate-200 rounded-lg md:rounded-xl focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all duration-200 outline-none text-sm md:text-base;
  }

  /* Page transitions */
  .page-enter {
    @apply animate-page-in;
  }

  /* Gradient backgrounds */
  .bg-gradient-subtle {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%);
  }

  .bg-gradient-hero {
    background: linear-gradient(180deg, rgba(14, 165, 233, 0.03) 0%, rgba(248, 250, 252, 0) 50%);
  }

  /* Improved card hover effects - disabled on mobile for better performance */
  .card-hover {
    @apply transition-all duration-300 ease-out;
  }
  @media (min-width: 768px) {
    .card-hover:hover {
      @apply -translate-y-1 shadow-lg;
    }
  }

  /* Glow effects */
  .glow-sky {
    box-shadow: 0 0 40px -10px rgba(14, 165, 233, 0.3);
  }
  .glow-purple {
    box-shadow: 0 0 40px -10px rgba(147, 51, 234, 0.3);
  }
  .glow-red {
    box-shadow: 0 0 40px -10px rgba(239, 68, 68, 0.3);
  }
}

@layer utilities {
  /* Animations */
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @keyframes fade-in-up {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes slide-in-right {
    from { opacity: 0; transform: translateX(-12px); }
    to { opacity: 1; transform: translateX(0); }
  }

  @keyframes scale-in {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }

  @keyframes page-in {
    from { opacity: 0; transform: translateY(4px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  @keyframes pulse-soft {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  /* Mobile-specific: slide up from bottom */
  @keyframes slide-up {
    from { 
      opacity: 0; 
      transform: translateY(100%); 
    }
    to { 
      opacity: 1; 
      transform: translateY(0); 
    }
  }

  .animate-fade-in {
    animation: fade-in 0.4s ease-out forwards;
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.5s ease-out forwards;
  }

  .animate-slide-in-right {
    animation: slide-in-right 0.3s ease-out forwards;
  }

  .animate-scale-in {
    animation: scale-in 0.3s ease-out forwards;
  }

  .animate-page-in {
    animation: page-in 0.25s ease-out forwards;
  }

  .animate-slide-up {
    animation: slide-up 0.3s ease-out forwards;
  }

  .animate-shimmer {
    background: linear-gradient(90deg, transparent 25%, rgba(255,255,255,0.5) 50%, transparent 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  .animate-pulse-soft {
    animation: pulse-soft 2s ease-in-out infinite;
  }

  /* Staggered animation delays */
  .stagger-1 { animation-delay: 0.05s; }
  .stagger-2 { animation-delay: 0.1s; }
  .stagger-3 { animation-delay: 0.15s; }
  .stagger-4 { animation-delay: 0.2s; }
  .stagger-5 { animation-delay: 0.25s; }
  .stagger-6 { animation-delay: 0.3s; }

  /* Text gradient */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-sky-600 to-indigo-600;
  }

  /* Focus ring */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-sky-500/40 focus:ring-offset-2 focus:ring-offset-white;
  }

  /* Mobile-first utilities */
  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }

  .safe-area-inset-top {
    padding-top: env(safe-area-inset-top, 0);
  }

  /* Touch-friendly tap targets (min 44x44px) */
  .tap-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Mobile-optimized text selection */
  .select-text {
    -webkit-user-select: text;
    user-select: text;
  }

  .select-none {
    -webkit-user-select: none;
    user-select: none;
  }
}
